const loginFeedback = document.querySelector(".button-feedback"), loginPopup = document.querySelector(".modal"), loginClose = loginPopup.querySelector(".modal-close"), loginForm = loginPopup.querySelector(".feedback-form"), loginLogin = loginPopup.querySelector(".login-user"), loginPassword = loginPopup.querySelector(".login-email-user"), sliderButtons = document.querySelectorAll(".slider-list button"), sliderSlides = document.querySelectorAll(".slider .slide"), sliderButtonItems = document.querySelectorAll(".slider .slide-item"); let isStorageSupport = !0, storage = ""; try { storage = localStorage.getItem("login") } catch (e) { isStorageSupport = !1 } loginFeedback.addEventListener("click", function (e) { e.preventDefault(), loginPopup.classList.add("modal-show"), storage ? (loginLogin.value = storage, loginPassword.focus()) : loginLogin.focus() }), loginClose.addEventListener("click", function (e) { e.preventDefault(), loginPopup.classList.remove("modal-show"), loginPopup.classList.remove("modal-error") }), loginForm.addEventListener("submit", function (e) { loginLogin.value && loginPassword.value ? isStorageSupport && localStorage.setItem("login", loginLogin.value) : (e.preventDefault(), loginPopup.classList.remove("modal-error"), loginPopup.offsetWidth = loginPopup.offsetWidth, loginPopup.classList.add("modal-error")) }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && loginPopup.classList.contains("modal-show") && (e.preventDefault(), loginPopup.classList.remove("modal-show"), loginPopup.classList.remove("modal-error")) }); for (let o = 0; o < sliderButtons.length; o++) { function onButtonClick(e) { for (let e = 0; e < sliderSlides.length; e++)o === e ? sliderSlides[e].classList.add("slide-active") : sliderSlides[e].classList.remove("slide-active"); for (let e = 0; e < sliderButtonItems.length; e++)o === e ? sliderButtonItems[e].classList.add("slide-item-active") : sliderButtonItems[e].classList.remove("slide-item-active") } sliderButtons[o].addEventListener("click", onButtonClick) }
